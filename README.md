# JS-8

## Описание
В этом задании необходимо написать библиотеку, которая упростит работу с коллекцией однотипных объектов.

Для управления коллекцией нужно реализовать три функции:
query — функция, выполняющая запрос с заданными операциями;
select— операция выбора необходимых полей объектов;
filterIn— операция фильтрации объектов коллекции.

```js
var lib = require('./index.js');
var friends = [
  {
    name: 'Сэм', 
    gender: 'Мужской',
    email: 'luisazamora@example.com',
    favoriteFruit: 'Картофель'
  },
  {
    name: 'Эмили', 
    gender: 'Женский',
    email: 'roachpugh@example.com',
    favoriteFruit: 'Яблоко'
  }
];

var bestFriends = lib.query(
  friends,
  lib.select('name', 'gender', 'email'),
  lib.filterIn('favoriteFruit', ['Яблоко', 'Картофель'])
);

console.info(bestFriends);
/*
[
  { name: 'Сэм', gender: 'Мужской', email: 'luisazamora@example.com' }, 
  { name: 'Эмили', gender: 'Женский', email: 'roachpugh@example.com' }
]
*/
```

## Условия
1. После выполнения функции 'query' не должна измениться исходная коллекция.
2. Если в функцию 'query' передать только коллекцию, то вернётся её копия.
3. Операция 'select' должна игнорировать несуществующие в объекте поля.
4. Несколько операций 'select' должны отработать как одна с пересечёнными аргументами. Например, если мы выбираем поля a и b, а затем b и c, то в результате должно выбраться только поле b.
5. Несколько операций 'filterIn' должны отработать как одна с пересечёнными аргументами. Например, если фильтруем поле по значениям a и b, а затем по b и c, то в результате отфильтроваться должно только по значени b.
6. Операции должны выполняться в определённом порядке. В первую очередь происходит фильтрация, а затем выборка полей. Таким образом, можно фильтровать коллекцию даже по тем полям, которые не указаны в функции select.
7. Порядок элементов после выполнения операций должен сохраниться.
8. Гарантируется, что функция 'query' будет вызываться корректно. Дополнительную проверку аргументов делать не нужно.
9. Предполагается, что поля объектов имеют значения типа String или Number.

## Функция 'query'
Выполняет запрос к коллекции. Принимает коллекцию и операции. Возвращает коллекцию после применения всех операций. В качестве операций может быть использован 'filterIn', 'select'.
```js
lib.query(collection, operation1, operation2, ...);
```

## Операция 'select'
Позволяет выбрать определённые поля объектов коллекции. Принимает список полей.
```js
lib.select('fieldName1', 'fieldName2', ...);
```

## Операция 'filterIn'
Позволяет отфильтровать коллекцию. Принимает название поля и допустимые значения. После выполнения фильтрации должны остаться объекты, у которых поле имеет одно из допустимых значений.
```js
lib.filterIn('fieldName', ['acceptedValue1', 'acceptedValue2',...]);
```

## Подсказка
К решению данной задачи есть два подхода:
1.Из функций select и filterIn можно возвращать названия операций с параметрами. И позже ориентироваться на них при выполнении функции query.
```js
function select () {
   // var fields = ...
   return ['select', fields];
}
```

2.Из функции можно возвращать функции, в которые позже будет передана коллекция. Для определения порядка понадобится возвращать именнованные функции, чтобы позже по именам определить порядок выполнения.
```js
function select () {
   // var fields = ...
   return function select(collection) {
       // ...
       return collection;
   }
}
```
